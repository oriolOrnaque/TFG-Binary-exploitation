\documentclass[../tfg.tex]{subfiles}

\begin{document}

\begin{tikzpicture}
[stacknode/.style={rectangle, minimum width=3cm, minimum height=1cm, text centered, outer sep=0}]

\node (ip) [stacknode, fill=green!40] {\texttt{0x7fffff0}};
\node (bp) [stacknode, above=0 of ip, fill=blue!40] {saved bp};
    \node (buffer) [stacknode, minimum height=2cm, above=0 of bp.north, fill=red!20] {\texttt{buffer}};

    \node (shellcode) [below=0 of buffer.north west, anchor=north west] {\texttt{0x90 0x90 0x90}};

\node (upperaddress) [left=0 of ip.south west] {\texttt{0xff...ff}};
\node (loweraddress) [left=0 of buffer.north west] {\texttt{0x7fffff0}};

    \node (a) [right=0.25cm of buffer.north east] {};
    \node (b) [right=0.25cm of ip.east] {};

    \node (comment) [right=0.5cm of bp.north east] {Writing on \texttt{buffer}};

    \draw [-{Latex[round]}] (a) edge (b);

\end{tikzpicture}

\end{document}

