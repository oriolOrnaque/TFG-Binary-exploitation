\documentclass[../tfg.tex]{subfiles}

\begin{document}

\begin{tikzpicture}
[memory/.style={minimum height=1cm, text centered, rectangle}]

\node (mem) [memory, fill=blue!20, minimum width=\linewidth] {};
\node (symtab) [memory, fill=red!20, right=0.3cm of mem.west] {SYMTAB};
\node (strtab) [memory, fill=red!30, right=0.1cm of symtab.east] {STRTAB};
\node (jmprel) [memory, fill=red!40, right=0.1cm of strtab.east] {JMPREL};

\node (padd) [memory, minimum width=0.3cm, right=3cm of jmprel.east] {};
\node (relentry) [memory, fill=cyan!20, minimum width=1cm, right=0cm of padd.east] {rel};
\node (symentry) [memory, fill=cyan!30, minimum width=1cm, right=0cm of relentry.east] {sym};
\node (strentry) [memory, fill=cyan!40, right=0cm of symentry.east] {\texttt{system}};

\node (buffer) [below=1cm of padd.south] {\texttt{0x43e00}};
\draw [-{Latex[round]}] (buffer.north) -- (padd.south);

\node (p0) [above=0.25cm of symtab.north west] {};
\node (p1) [above=0.25cm of symentry.north west] {};
\draw [<->] (p0) edge node [auto] {\texttt{0x3a98}} (p1);
\draw (symtab.north west) -- (p0.north);
\draw (symentry.north west) -- (p1.north);

\node (p2) [below=0.25cm of jmprel.south west] {};
\node (p3) [below=0.25cm of relentry.south west] {};
\draw [<->] (p2) edge node [auto] {\texttt{0x3990}} (p3);
\draw (jmprel.south west) -- (p2.south);
\draw (relentry.south west) -- (p3.south);

\node (p4) [above=0.9cm of strtab.north west] {};
\node (p5) [above=0.9cm of strentry.north west] {};
\draw [<->] (p4) edge node [auto] {\texttt{0x3a50}} (p5);
\draw (strtab.north west) -- (p4.north);
\draw (strentry.north west) -- (p5.north);

\end{tikzpicture}

\end{document}

